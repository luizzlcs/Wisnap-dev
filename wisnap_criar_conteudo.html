<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wisnap - Criar Conte√∫do</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-blue: #2B59FF;
            --secondary-blue: #7398FF;
            --accent-yellow: #FFD23F;
            --light-gray: #E2E2E2;
            --background: #F8F9FA;
            --dark-text: #0A0E27;
            --success-green: #10B981;
            --error-red: #EF4444;
        }

        body {
            font-family: 'Roboto', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: var(--background);
            overflow-x: hidden;
        }

        /* Screen Container */
        .screen {
            display: none;
            min-height: 100vh;
            animation: fadeIn 0.4s ease;
        }

        .screen.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Header */
        .header {
            background: white;
            border-bottom: 2px solid var(--light-gray);
            padding: 16px 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-back {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            background: var(--background);
            border: none;
            cursor: pointer;
            font-size: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
        }

        .header-back:hover {
            background: rgba(43, 89, 255, 0.1);
        }

        .header-title {
            font-size: 18px;
            font-weight: 700;
            color: var(--dark-text);
        }

        .header-close {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            background: transparent;
            border: none;
            cursor: pointer;
            font-size: 24px;
            color: #9CA3AF;
            transition: all 0.2s ease;
        }

        .header-close:hover {
            background: rgba(239, 68, 68, 0.1);
            color: var(--error-red);
        }

        /* Container */
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 32px 20px;
        }

        /* Upload Options (Tela 1) */
        .upload-options {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 16px;
        }

        .upload-option {
            background: white;
            border: 2px solid var(--light-gray);
            border-radius: 20px;
            padding: 40px 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 16px;
        }

        .upload-option:hover {
            border-color: var(--primary-blue);
            transform: translateY(-4px);
            box-shadow: 0 12px 32px rgba(43, 89, 255, 0.2);
        }

        .upload-icon {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, var(--primary-blue), var(--secondary-blue));
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 40px;
        }

        .upload-label {
            font-size: 16px;
            font-weight: 600;
            color: var(--dark-text);
        }

        .upload-description {
            font-size: 13px;
            color: #6B7280;
        }

        /* Image Preview */
        .image-preview-container {
            background: white;
            border-radius: 20px;
            border: 2px solid var(--light-gray);
            padding: 20px;
            margin-bottom: 24px;
        }

        .image-preview {
            width: 100%;
            aspect-ratio: 1 / 1;
            object-fit: cover;
            border-radius: 12px;
            background: var(--background);
        }

        /* Edit Tools (Tela 2) */
        .edit-tools {
            background: white;
            border-radius: 20px;
            border: 2px solid var(--light-gray);
            padding: 24px;
            margin-bottom: 24px;
        }

        .tool-buttons {
            display: flex;
            gap: 12px;
            justify-content: center;
        }

        .tool-button {
            flex: 1;
            max-width: 120px;
            padding: 16px;
            background: var(--background);
            border: 2px solid var(--light-gray);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
        }

        .tool-button:hover {
            border-color: var(--primary-blue);
            background: rgba(43, 89, 255, 0.05);
        }

        .tool-button.active {
            border-color: var(--primary-blue);
            background: rgba(43, 89, 255, 0.1);
        }

        .tool-icon {
            font-size: 24px;
        }

        .tool-label {
            font-size: 13px;
            font-weight: 600;
            color: var(--dark-text);
        }

        /* Prompt Input (Tela 3) */
        .prompt-section {
            background: white;
            border-radius: 20px;
            border: 2px solid var(--light-gray);
            padding: 24px;
            margin-bottom: 24px;
        }

        .prompt-title {
            font-size: 18px;
            font-weight: 700;
            color: var(--dark-text);
            margin-bottom: 8px;
        }

        .prompt-subtitle {
            font-size: 14px;
            color: #6B7280;
            margin-bottom: 20px;
        }

        .prompt-input {
            width: 100%;
            min-height: 120px;
            padding: 16px;
            border: 2px solid var(--light-gray);
            border-radius: 12px;
            font-size: 15px;
            font-family: 'Roboto', sans-serif;
            resize: vertical;
            transition: all 0.2s ease;
        }

        .prompt-input:focus {
            outline: none;
            border-color: var(--primary-blue);
            box-shadow: 0 0 0 3px rgba(43, 89, 255, 0.1);
        }

        .prompt-input.error {
            border-color: var(--error-red);
        }

        .prompt-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 12px;
        }

        .char-counter {
            font-size: 13px;
            color: #6B7280;
        }

        .char-counter.error {
            color: var(--error-red);
        }

        .error-message {
            font-size: 13px;
            color: var(--error-red);
            margin-top: 8px;
            display: none;
        }

        .error-message.show {
            display: block;
        }

        /* Suggestions */
        .suggestions {
            margin-top: 20px;
        }

        .suggestions-title {
            font-size: 14px;
            font-weight: 600;
            color: var(--dark-text);
            margin-bottom: 12px;
        }

        .suggestion-chips {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .suggestion-chip {
            padding: 8px 16px;
            background: var(--background);
            border: 2px solid var(--light-gray);
            border-radius: 20px;
            font-size: 13px;
            color: var(--dark-text);
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .suggestion-chip:hover {
            border-color: var(--primary-blue);
            background: rgba(43, 89, 255, 0.05);
        }

        /* Processing (Tela 4) */
        .processing-container {
            text-align: center;
            padding: 60px 20px;
        }

        .processing-animation {
            width: 120px;
            height: 120px;
            margin: 0 auto 32px;
            position: relative;
        }

        .processing-logo {
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, var(--primary-blue), var(--secondary-blue));
            border-radius: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 60px;
            font-weight: 700;
            color: white;
            animation: processingPulse 2s ease-in-out infinite;
            position: relative;
        }

        .processing-logo-dot {
            position: absolute;
            top: -8px;
            right: -8px;
            width: 32px;
            height: 32px;
            background: var(--accent-yellow);
            border-radius: 50%;
            animation: processingDotPulse 2s ease-in-out infinite;
        }

        @keyframes processingPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        @keyframes processingDotPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.3); }
        }

        .processing-title {
            font-size: 24px;
            font-weight: 700;
            color: var(--dark-text);
            margin-bottom: 12px;
        }

        .processing-message {
            font-size: 16px;
            color: #6B7280;
            margin-bottom: 32px;
        }

        .progress-bar {
            width: 100%;
            max-width: 400px;
            height: 8px;
            background: var(--light-gray);
            border-radius: 4px;
            margin: 0 auto;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary-blue), var(--secondary-blue));
            border-radius: 4px;
            animation: progressAnimation 10s ease-in-out forwards;
        }

        @keyframes progressAnimation {
            0% { width: 0%; }
            100% { width: 100%; }
        }

        /* Result Preview (Tela 5) */
        .result-actions {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            margin-top: 24px;
        }

        .result-action {
            padding: 16px;
            background: white;
            border: 2px solid var(--light-gray);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            font-size: 14px;
            font-weight: 600;
            color: var(--dark-text);
        }

        .result-action:hover {
            border-color: var(--primary-blue);
            background: rgba(43, 89, 255, 0.05);
        }

        .result-action.primary {
            grid-column: 1 / -1;
            background: var(--primary-blue);
            color: white;
            border-color: var(--primary-blue);
        }

        .result-action.primary:hover {
            background: #1E3FCC;
        }

        /* Publication Form (Tela 6) */
        .publication-form {
            background: white;
            border-radius: 20px;
            border: 2px solid var(--light-gray);
            padding: 24px;
            margin-bottom: 24px;
        }

        .form-group {
            margin-bottom: 24px;
        }

        .form-label {
            font-size: 14px;
            font-weight: 600;
            color: var(--dark-text);
            margin-bottom: 8px;
            display: block;
        }

        .form-input {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid var(--light-gray);
            border-radius: 12px;
            font-size: 15px;
            font-family: 'Roboto', sans-serif;
            transition: all 0.2s ease;
        }

        .form-input:focus {
            outline: none;
            border-color: var(--primary-blue);
            box-shadow: 0 0 0 3px rgba(43, 89, 255, 0.1);
        }

        .form-textarea {
            min-height: 100px;
            resize: vertical;
        }

        .privacy-options {
            display: flex;
            gap: 12px;
        }

        .privacy-option {
            flex: 1;
            padding: 16px;
            background: var(--background);
            border: 2px solid var(--light-gray);
            border-radius: 12px;
            cursor: pointer;
            text-align: center;
            transition: all 0.2s ease;
        }

        .privacy-option:hover {
            border-color: var(--primary-blue);
        }

        .privacy-option.selected {
            border-color: var(--primary-blue);
            background: rgba(43, 89, 255, 0.1);
        }

        .privacy-icon {
            font-size: 24px;
            margin-bottom: 8px;
        }

        .privacy-label {
            font-size: 13px;
            font-weight: 600;
            color: var(--dark-text);
        }

        /* Success (Tela 7) */
        .success-container {
            text-align: center;
            padding: 60px 20px;
        }

        .success-icon {
            width: 120px;
            height: 120px;
            background: var(--success-green);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 60px;
            margin: 0 auto 32px;
            animation: successPop 0.5s ease;
        }

        @keyframes successPop {
            0% { transform: scale(0); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        .success-title {
            font-size: 28px;
            font-weight: 700;
            color: var(--dark-text);
            margin-bottom: 12px;
        }

        .success-message {
            font-size: 16px;
            color: #6B7280;
            margin-bottom: 40px;
        }

        .success-actions {
            display: flex;
            flex-direction: column;
            gap: 12px;
            max-width: 400px;
            margin: 0 auto;
        }

        /* Buttons */
        .btn {
            width: 100%;
            padding: 16px;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            border: none;
            font-family: 'Roboto', sans-serif;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .btn-primary {
            background: var(--primary-blue);
            color: white;
        }

        .btn-primary:hover {
            background: #1E3FCC;
            transform: translateY(-2px);
            box-shadow: 0 8px 24px rgba(43, 89, 255, 0.3);
        }

        .btn-primary:disabled {
            background: var(--light-gray);
            color: #9CA3AF;
            cursor: not-allowed;
            transform: none;
        }

        .btn-secondary {
            background: white;
            color: var(--primary-blue);
            border: 2px solid var(--primary-blue);
        }

        .btn-secondary:hover {
            background: rgba(43, 89, 255, 0.05);
        }

        .btn-text {
            background: transparent;
            color: #6B7280;
        }

        .btn-text:hover {
            color: var(--primary-blue);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .container {
                padding: 24px 16px;
            }

            .upload-options {
                grid-template-columns: 1fr;
            }

            .result-actions {
                grid-template-columns: 1fr;
            }

            .privacy-options {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <!-- TELA 4.1 - M√âTODO DE UPLOAD -->
    <div class="screen active" id="screen1">
        <div class="header">
            <button class="header-back" onclick="window.location.href='wisnap_feed_home.html'">‚Üê</button>
            <div class="header-title">Criar Wisnap</div>
            <button class="header-close" onclick="closeFlow()">√ó</button>
        </div>
        
        <div class="container">
            <div class="upload-options">
                <div class="upload-option" onclick="selectUploadMethod('camera')">
                    <div class="upload-icon">üì∏</div>
                    <div class="upload-label">C√¢mera</div>
                    <div class="upload-description">Tire uma foto agora</div>
                </div>
                
                <div class="upload-option" onclick="selectUploadMethod('gallery')">
                    <div class="upload-icon">üñºÔ∏è</div>
                    <div class="upload-label">Galeria</div>
                    <div class="upload-description">Escolha da galeria</div>
                </div>
                
                <div class="upload-option" onclick="selectUploadMethod('stock')">
                    <div class="upload-icon">üóÇÔ∏è</div>
                    <div class="upload-label">Biblioteca</div>
                    <div class="upload-description">Imagens stock</div>
                </div>
                
                <div class="upload-option" onclick="selectUploadMethod('previous')">
                    <div class="upload-icon">üîÅ</div>
                    <div class="upload-label">Cria√ß√£o Anterior</div>
                    <div class="upload-description">Reutilizar foto</div>
                </div>
            </div>
        </div>
    </div>

    <!-- TELA 4.2 - EDI√á√ÉO DA FOTO -->
    <div class="screen" id="screen2">
        <div class="header">
            <button class="header-back" onclick="goToScreen(1)">‚Üê</button>
            <div class="header-title">Editar Foto</div>
            <button class="header-close" onclick="closeFlow()">√ó</button>
        </div>
        
        <div class="container">
            <div class="image-preview-container">
                <img src="https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=800&h=800&fit=crop" 
                     alt="Preview" class="image-preview" id="editImage">
            </div>
            
            <div class="edit-tools">
                <div class="tool-buttons">
                    <button class="tool-button" onclick="toggleTool('crop')">
                        <div class="tool-icon">‚úÇÔ∏è</div>
                        <div class="tool-label">Cortar</div>
                    </button>
                    
                    <button class="tool-button" onclick="toggleTool('filter')">
                        <div class="tool-icon">üé®</div>
                        <div class="tool-label">Filtros</div>
                    </button>
                    
                    <button class="tool-button" onclick="toggleTool('rotate')">
                        <div class="tool-icon">üîÑ</div>
                        <div class="tool-label">Girar</div>
                    </button>
                </div>
            </div>
            
            <button class="btn btn-primary" onclick="goToScreen(3)">
                Continuar
                <span>‚Üí</span>
            </button>
        </div>
    </div>

    <!-- TELA 4.3 - DESCREVER TRANSFORMA√á√ÉO -->
    <div class="screen" id="screen3">
        <div class="header">
            <button class="header-back" onclick="goToScreen(2)">‚Üê</button>
            <div class="header-title">Descrever Transforma√ß√£o</div>
            <button class="header-close" onclick="closeFlow()">√ó</button>
        </div>
        
        <div class="container">
            <div class="image-preview-container">
                <img src="https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=800&h=800&fit=crop" 
                     alt="Preview" class="image-preview">
            </div>
            
            <div class="prompt-section">
                <div class="prompt-title">O que voc√™ gostaria que acontecesse?</div>
                <div class="prompt-subtitle">Descreva a transforma√ß√£o que voc√™ imagina (10-200 caracteres)</div>
                
                <textarea 
                    class="prompt-input" 
                    id="promptInput" 
                    placeholder="Ex: transformar em astronauta na lua, meu chefe como entregador de pizza..."
                    maxlength="200"
                    oninput="updateCharCounter()"
                ></textarea>
                
                <div class="prompt-footer">
                    <span class="char-counter" id="charCounter">0 / 200</span>
                </div>
                
                <div class="error-message" id="promptError">
                    M√≠nimo de 10 caracteres necess√°rios
                </div>
                
                <div class="suggestions">
                    <div class="suggestions-title">üí° Sugest√µes:</div>
                    <div class="suggestion-chips">
                        <div class="suggestion-chip" onclick="useSuggestion('transformar em super-her√≥i voando pela cidade')">
                            Super-her√≥i voando
                        </div>
                        <div class="suggestion-chip" onclick="useSuggestion('virar astronauta plantando flores na lua')">
                            Astronauta na lua
                        </div>
                        <div class="suggestion-chip" onclick="useSuggestion('meu chefe como entregador de pizza')">
                            Chefe entregador
                        </div>
                        <div class="suggestion-chip" onclick="useSuggestion('virando chef de cozinha famoso')">
                            Chef famoso
                        </div>
                    </div>
                </div>
            </div>
            
            <button class="btn btn-primary" id="generateBtn" onclick="startProcessing()" disabled>
                Gerar com IA
                <span>‚ú®</span>
            </button>
        </div>
    </div>

    <!-- TELA 4.4 - PROCESSAMENTO -->
    <div class="screen" id="screen4">
        <div class="header">
            <div style="width: 40px;"></div>
            <div class="header-title">Gerando Magia...</div>
            <div style="width: 40px;"></div>
        </div>
        
        <div class="container">
            <div class="processing-container">
                <div class="processing-animation">
                    <div class="processing-logo">
                        W
                        <div class="processing-logo-dot"></div>
                    </div>
                </div>
                
                <div class="processing-title" id="processingTitle">Criando sua transforma√ß√£o...</div>
                <div class="processing-message" id="processingMessage">
                    Nossa IA est√° trabalhando para criar algo incr√≠vel! ‚ú®
                </div>
                
                <div class="progress-bar">
                    <div class="progress-fill"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- TELA 4.5 - PREVIEW DO RESULTADO -->
    <div class="screen" id="screen5">
        <div class="header">
            <button class="header-back" onclick="goToScreen(3)">‚Üê</button>
            <div class="header-title">Resultado</div>
            <button class="header-close" onclick="closeFlow()">√ó</button>
        </div>
        
        <div class="container">
            <div class="image-preview-container">
                <img src="https://images.unsplash.com/photo-1614730321146-b6fa6a46bcb4?w=800&h=800&fit=crop" 
                     alt="Result" class="image-preview">
            </div>
            
            <div class="result-actions">
                <button class="result-action primary" onclick="goToScreen(6)">
                    üì§ Publicar
                </button>
                
                <button class="result-action" onclick="regenerate()">
                    üîÑ Regenerar
                </button>
                
                <button class="result-action" onclick="goToScreen(3)">
                    ‚úèÔ∏è Editar Prompt
                </button>
                
                <button class="result-action" onclick="saveDraft()">
                    üíæ Salvar Rascunho
                </button>
                
                <button class="result-action" onclick="downloadImage()">
                    ‚¨áÔ∏è Baixar
                </button>
            </div>
        </div>
    </div>

    <!-- TELA 4.6 - PUBLICA√á√ÉO -->
    <div class="screen" id="screen6">
        <div class="header">
            <button class="header-back" onclick="goToScreen(5)">‚Üê</button>
            <div class="header-title">Publicar Wisnap</div>
            <button class="header-close" onclick="closeFlow()">√ó</button>
        </div>
        
        <div class="container">
            <div class="image-preview-container">
                <img src="https://images.unsplash.com/photo-1614730321146-b6fa6a46bcb4?w=800&h=800&fit=crop" 
                     alt="Result" class="image-preview">
            </div>
            
            <div class="publication-form">
                <div class="form-group">
                    <label class="form-label">Prompt (edit√°vel)</label>
                    <input type="text" class="form-input" id="publishPrompt" 
                           value="transformar em astronauta na lua" maxlength="200">
                </div>
                
                <div class="form-group">
                    <label class="form-label">Legenda (opcional)</label>
                    <textarea class="form-input form-textarea" id="publishCaption" 
                              placeholder="Adicione uma legenda..." 
                              maxlength="300"
                              oninput="updateCaptionCounter()"></textarea>
                    <span class="char-counter" id="captionCounter">0 / 300</span>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Hashtags sugeridas</label>
                    <div class="suggestion-chips">
                        <div class="suggestion-chip">#wisnap</div>
                        <div class="suggestion-chip">#iaart</div>
                        <div class="suggestion-chip">#astronauta</div>
                        <div class="suggestion-chip">#criativo</div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Privacidade</label>
                    <div class="privacy-options">
                        <div class="privacy-option selected" onclick="selectPrivacy('public')">
                            <div class="privacy-icon">üåç</div>
                            <div class="privacy-label">P√∫blico</div>
                        </div>
                        
                        <div class="privacy-option" onclick="selectPrivacy('followers')">
                            <div class="privacy-icon">üë•</div>
                            <div class="privacy-label">Seguidores</div>
                        </div>
                        
                        <div class="privacy-option" onclick="selectPrivacy('private')">
                            <div class="privacy-icon">üîí</div>
                            <div class="privacy-label">Privado</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <button class="btn btn-primary" onclick="publishPost()">
                Publicar Agora
                <span>üöÄ</span>
            </button>
        </div>
    </div>

    <!-- TELA 4.7 - CONFIRMA√á√ÉO -->
    <div class="screen" id="screen7">
        <div class="container">
            <div class="success-container">
                <div class="success-icon">‚úì</div>
                
                <div class="success-title">Wisnap Publicado! üéâ</div>
                <div class="success-message">
                    Seu conte√∫do est√° no ar e pronto para receber curtidas e coment√°rios!
                </div>
                
                <div class="success-actions">
                    <button class="btn btn-primary" onclick="viewFeed()">
                        üè† Ver no Feed
                    </button>
                    
                    <button class="btn btn-secondary" onclick="shareExternal()">
                        üîó Compartilhar
                    </button>
                    
                    <button class="btn btn-text" onclick="createAnother()">
                        ‚ú® Criar Outro Wisnap
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentScreen = 1;
        let selectedUploadMethod = null;
        let selectedPrivacy = 'public';

        // Screen Navigation
        function goToScreen(screenNumber) {
            document.getElementById(`screen${currentScreen}`).classList.remove('active');
            document.getElementById(`screen${screenNumber}`).classList.add('active');
            currentScreen = screenNumber;
            window.scrollTo(0, 0);
        }

        function goBack() {
            if (currentScreen > 1) {
                goToScreen(currentScreen - 1);
            }
        }

        function closeFlow() {
            if (confirm('Tem certeza que deseja sair? Seu progresso ser√° perdido.')) {
                alert('Voltando para o feed...');
                // window.location.href = '/feed';
            }
        }

        // Tela 1 - Upload Method
        function selectUploadMethod(method) {
            selectedUploadMethod = method;
            alert(`M√©todo selecionado: ${method}\n\nSimulando upload...`);
            setTimeout(() => goToScreen(2), 500);
        }

        // Tela 2 - Edit Tools
        function toggleTool(tool) {
            const buttons = document.querySelectorAll('.tool-button');
            buttons.forEach(btn => btn.classList.remove('active'));
            event.currentTarget.classList.add('active');
            alert(`Ferramenta ativada: ${tool}`);
        }

        // Tela 3 - Prompt Input
        function updateCharCounter() {
            const input = document.getElementById('promptInput');
            const counter = document.getElementById('charCounter');
            const error = document.getElementById('promptError');
            const btn = document.getElementById('generateBtn');
            const length = input.value.length;
            
            counter.textContent = `${length} / 200`;
            
            if (length < 10) {
                counter.classList.add('error');
                input.classList.add('error');
                error.classList.add('show');
                btn.disabled = true;
            } else if (length >= 10 && length <= 200) {
                counter.classList.remove('error');
                input.classList.remove('error');
                error.classList.remove('show');
                btn.disabled = false;
            }
        }

        function useSuggestion(text) {
            document.getElementById('promptInput').value = text;
            updateCharCounter();
        }

        // Tela 4 - Processing
        function startProcessing() {
            goToScreen(4);
            
            const messages = [
                "Nossa IA est√° trabalhando para criar algo incr√≠vel! ‚ú®",
                "Analisando a imagem e o prompt... üé®",
                "Aplicando transforma√ß√µes m√°gicas... ü™Ñ",
                "Quase l√°! Finalizando os detalhes... üéØ",
                "Pronto! Preparando para mostrar... üöÄ"
            ];
            
            let messageIndex = 0;
            const messageInterval = setInterval(() => {
                document.getElementById('processingMessage').textContent = messages[messageIndex];
                messageIndex++;
                if (messageIndex >= messages.length) {
                    clearInterval(messageInterval);
                }
            }, 2000);
            
            // Simula processamento (10 segundos)
            setTimeout(() => {
                goToScreen(5);
            }, 10000);
        }

        // Tela 5 - Result Actions
        function regenerate() {
            if (confirm('Regenerar com o mesmo prompt?')) {
                goToScreen(4);
                setTimeout(() => goToScreen(5), 10000);
            }
        }

        function saveDraft() {
            alert('üíæ Rascunho salvo com sucesso!\n\nVoc√™ pode encontr√°-lo na aba "Rascunhos" do seu perfil.');
        }

        function downloadImage() {
            alert('‚¨áÔ∏è Iniciando download...\n\nA imagem ser√° salva na sua galeria.');
        }

        // Tela 6 - Publication
        function updateCaptionCounter() {
            const caption = document.getElementById('publishCaption');
            const counter = document.getElementById('captionCounter');
            counter.textContent = `${caption.value.length} / 300`;
        }

        function selectPrivacy(privacy) {
            const options = document.querySelectorAll('.privacy-option');
            options.forEach(opt => opt.classList.remove('selected'));
            event.currentTarget.classList.add('selected');
            selectedPrivacy = privacy;
        }

        function publishPost() {
            const btn = event.currentTarget;
            btn.disabled = true;
            btn.textContent = 'Publicando...';
            
            setTimeout(() => {
                goToScreen(7);
            }, 2000);
        }

        // Tela 7 - Success Actions
        function viewFeed() {
            alert('üè† Redirecionando para o feed...');
            // window.location.href = '/feed';
        }

        function shareExternal() {
            alert('üîó Op√ß√µes de compartilhamento:\n\n‚Ä¢ WhatsApp\n‚Ä¢ Instagram\n‚Ä¢ Twitter/X\n‚Ä¢ Copiar link');
        }

        function createAnother() {
            goToScreen(1);
            document.getElementById('promptInput').value = '';
            updateCharCounter();
        }
    </script>
</body>
</html>
